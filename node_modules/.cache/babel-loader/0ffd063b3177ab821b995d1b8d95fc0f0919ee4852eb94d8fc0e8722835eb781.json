{"ast":null,"code":"var _jsxFileName = \"/home/ocole/code/phase-5/denver-hh-depot/client/src/components/Map.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst mapStyles = {\n  map: {\n    position: 'absolute',\n    width: '100%',\n    height: '100%'\n  }\n};\nexport class CurrentLocation extends React.Component {\n  constructor(props) {\n    super(props);\n    const {\n      lat,\n      lng\n    } = this.props.initialCenter;\n    this.state = {\n      currentLocation: {\n        lat: lat,\n        lng: lng\n      }\n    };\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.google !== this.props.google) {\n      this.loadMap();\n    }\n    if (prevState.currentLocation !== this.state.currentLocation) {\n      this.recenterMap();\n    }\n  }\n  recenterMap() {\n    const map = this.map;\n    const current = this.state.currentLocation;\n    const google = this.props.google;\n    const maps = google.maps;\n    if (map) {\n      let center = new maps.LatLng(current.lat, current.lng);\n      map.panTo(center);\n    }\n  }\n  componentDidMount() {\n    if (this.props.centerAroundCurrentLocation) {\n      if (navigator && navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(pos => {\n          const coords = pos.coords;\n          this.setState({\n            currentLocation: {\n              lat: coords.latitude,\n              lng: coords.longitude\n            }\n          });\n        });\n      }\n    }\n    this.loadMap();\n  }\n  loadMap() {\n    if (this.props && this.props.google) {\n      // checks if google is available\n      const {\n        google\n      } = this.props;\n      const maps = google.maps;\n      const mapRef = this.refs.map;\n\n      // reference to the actual DOM element\n      const node = ReactDOM.findDOMNode(mapRef);\n      let {\n        zoom\n      } = this.props;\n      const {\n        lat,\n        lng\n      } = this.state.currentLocation;\n      const center = new maps.LatLng(lat, lng);\n      const mapConfig = Object.assign({}, {\n        center: center,\n        zoom: zoom\n      });\n\n      // maps.Map() is constructor that instantiates the map\n      this.map = new maps.Map(node, mapConfig);\n    }\n  }\n  renderChildren() {\n    const {\n      children\n    } = this.props;\n    if (!children) return;\n    return React.Children.map(children, c => {\n      if (!c) return;\n      return /*#__PURE__*/React.cloneElement(c, {\n        map: this.map,\n        google: this.props.google,\n        mapCenter: this.state.currentLocation\n      });\n    });\n  }\n  render() {\n    const style = Object.assign({}, mapStyles.map);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: style,\n        ref: \"map\",\n        children: \"Loading map...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this), this.renderChildren()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }, this);\n  }\n}\nCurrentLocation.defaultProps = {\n  zoom: 14,\n  initialCenter: {\n    lat: -1.2884,\n    lng: 36.8233\n  },\n  centerAroundCurrentLocation: false,\n  visible: true\n};\nexport default CurrentLocation;","map":{"version":3,"names":["React","ReactDOM","jsxDEV","_jsxDEV","mapStyles","map","position","width","height","CurrentLocation","Component","constructor","props","lat","lng","initialCenter","state","currentLocation","componentDidUpdate","prevProps","prevState","google","loadMap","recenterMap","current","maps","center","LatLng","panTo","componentDidMount","centerAroundCurrentLocation","navigator","geolocation","getCurrentPosition","pos","coords","setState","latitude","longitude","mapRef","refs","node","findDOMNode","zoom","mapConfig","Object","assign","Map","renderChildren","children","Children","c","cloneElement","mapCenter","render","style","ref","fileName","_jsxFileName","lineNumber","columnNumber","defaultProps","visible"],"sources":["/home/ocole/code/phase-5/denver-hh-depot/client/src/components/Map.js"],"sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst mapStyles = {\n  map: {\n    position: 'absolute',\n    width: '100%',\n    height: '100%'\n  }\n};\n\nexport class CurrentLocation extends React.Component {\n    constructor(props) {\n        super(props);\n    \n        const { lat, lng } = this.props.initialCenter;\n    \n        this.state = {\n          currentLocation: {\n            lat: lat,\n            lng: lng\n          }\n        };\n    }\n    componentDidUpdate(prevProps, prevState) {\n        if (prevProps.google !== this.props.google) {\n            this.loadMap();\n        }\n        if (prevState.currentLocation !== this.state.currentLocation) {\n            this.recenterMap();\n        }\n    };\n    recenterMap() {\n        const map = this.map;\n        const current = this.state.currentLocation;\n        const google = this.props.google;\n        const maps = google.maps;\n    \n        if (map) {\n            let center = new maps.LatLng(current.lat, current.lng);\n            map.panTo(center);\n        }\n    }\n    componentDidMount() {\n        if (this.props.centerAroundCurrentLocation) {\n          if (navigator && navigator.geolocation) {\n            navigator.geolocation.getCurrentPosition(pos => {\n              const coords = pos.coords;\n              this.setState({\n                currentLocation: {\n                  lat: coords.latitude,\n                  lng: coords.longitude\n                }\n              });\n            });\n          }\n        }\n        this.loadMap();\n      }\n    loadMap() {\n    if (this.props && this.props.google) {\n        // checks if google is available\n        const { google } = this.props;\n        const maps = google.maps;\n\n        const mapRef = this.refs.map;\n\n        // reference to the actual DOM element\n        const node = ReactDOM.findDOMNode(mapRef);\n\n        let { zoom } = this.props;\n        const { lat, lng } = this.state.currentLocation;\n        const center = new maps.LatLng(lat, lng);\n\n        const mapConfig = Object.assign(\n        {},\n        {\n            center: center,\n            zoom: zoom\n        }\n        );\n\n        // maps.Map() is constructor that instantiates the map\n        this.map = new maps.Map(node, mapConfig);\n    }\n    }\n    renderChildren() {\n        const { children } = this.props;\n    \n        if (!children) return;\n    \n        return React.Children.map(children, c => {\n          if (!c) return;\n    \n          return React.cloneElement(c, {\n            map: this.map,\n            google: this.props.google,\n            mapCenter: this.state.currentLocation\n          });\n        });\n      }\n      render() {\n        const style = Object.assign({}, mapStyles.map);\n    \n        return (\n          <div>\n            <div style={style} ref=\"map\">\n              Loading map...\n            </div>\n            {this.renderChildren()}\n          </div>\n        );\n      }\n}\n\nCurrentLocation.defaultProps = {\n    zoom: 14,\n    initialCenter: {\n      lat: -1.2884,\n      lng: 36.8233\n    },\n    centerAroundCurrentLocation: false,\n    visible: true\n  };\n\nexport default CurrentLocation;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}